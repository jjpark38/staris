<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STARIS - Blockchain & SI Technology Leader</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Firebase SDKs (Stable Version 10.7.1) -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js";
        import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, getDocs, doc, deleteDoc, query, orderBy, onSnapshot } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyD_A2mpnBL6cMdUW5SGrP5Iad3XtQ0Imxc",
            authDomain: "starisdb.firebaseapp.com",
            projectId: "starisdb",
            storageBucket: "starisdb.firebasestorage.app",
            messagingSenderId: "230305896100",
            appId: "1:230305896100:web:503f9ae65886869e79b831",
            measurementId: "G-D82R1LR68V"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // Expose Firebase functions to window so React can use them
        window.firebaseModules = {
            auth,
            db,
            signInAnonymously,
            onAuthStateChanged,
            collection,
            addDoc,
            getDocs,
            doc,
            deleteDoc,
            query,
            orderBy,
            onSnapshot
        };
        
        console.log("Firebase Initialized with STARIS DB");
    </script>

    <style>
        /* Custom Keyframes */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up {
            animation: fadeInUp 1s ease-out forwards;
        }
        
        /* Hide Scrollbar */
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 font-sans selection:bg-blue-500 selection:text-white">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        
        // --- Icon Components (SVG Paths) ---
        const Icon = ({ path, className, size = 24 }) => (
            <svg 
                xmlns="http://www.w3.org/2000/svg" 
                width={size} 
                height={size} 
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                strokeWidth="2" 
                strokeLinecap="round" 
                strokeLinejoin="round" 
                className={className}
            >
                {path}
            </svg>
        );

        const Icons = {
            Menu: (props) => <Icon {...props} path={<><line x1="4" y1="12" x2="20" y2="12"/><line x1="4" y1="6" x2="20" y2="6"/><line x1="4" y1="18" x2="20" y2="18"/></>} />,
            X: (props) => <Icon {...props} path={<><path d="M18 6 6 18"/><path d="m6 6 12 12"/></>} />,
            ChevronRight: (props) => <Icon {...props} path={<path d="m9 18 6-6-6-6"/>} />,
            Gamepad2: (props) => <Icon {...props} path={<><line x1="6" y1="12" x2="10" y2="12"/><line x1="8" y1="10" x2="8" y2="14"/><line x1="15" y1="13" x2="15.01" y2="13"/><line x1="18" y1="11" x2="18.01" y2="11"/><rect width="20" height="12" x="2" y="6" rx="2"/></>} />,
            Blocks: (props) => <Icon {...props} path={<><rect width="7" height="7" x="14" y="3" rx="1"/><path d="M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3"/></>} />,
            Globe: (props) => <Icon {...props} path={<><circle cx="12" cy="12" r="10"/><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/><path d="M2 12h20"/></>} />,
            Mail: (props) => <Icon {...props} path={<><rect width="20" height="16" x="2" y="4" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></>} />,
            MapPin: (props) => <Icon {...props} path={<><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></>} />,
            Phone: (props) => <Icon {...props} path={<path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>} />,
            Award: (props) => <Icon {...props} path={<><circle cx="12" cy="8" r="7"/><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/></>} />,
            MonitorPlay: (props) => <Icon {...props} path={<><path d="m10 7 5 3-5 3Z"/><rect width="20" height="14" x="2" y="3" rx="2"/><path d="M12 17v4"/><path d="M8 21h8"/></>} />,
            ArrowRight: (props) => <Icon {...props} path={<path d="M5 12h14m-7-7 7 7-7 7"/>} />,
            Database: (props) => <Icon {...props} path={<><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M3 5V19A9 3 0 0 0 21 19V5"/><path d="M3 12A9 3 0 0 0 21 12"/></>} />,
            Layers: (props) => <Icon {...props} path={<><path d="m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z"/><path d="m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65"/><path d="m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65"/></>} />,
            Coins: (props) => <Icon {...props} path={<><circle cx="8" cy="8" r="6"/><path d="M18.09 10.37A6 6 0 1 1 10.34 18"/><path d="M7 6h1v4"/><path d="m7.1 10.22 1-4.22H17"/></>} />,
            Link: (props) => <Icon {...props} path={<><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></>} />,
            PlayCircle: (props) => <Icon {...props} path={<><circle cx="12" cy="12" r="10"/><polygon points="10 8 16 12 10 16 10 8"/></>} />,
            Quote: (props) => <Icon {...props} path={<><path d="M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z"/><path d="M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z"/></>} />,
            Newspaper: (props) => <Icon {...props} path={<><path d="M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2"/><path d="M18 14h-8"/><path d="M15 18h-5"/><path d="M10 6h8v4h-8V6Z"/></>} />,
            Trophy: (props) => <Icon {...props} path={<><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/><path d="M4 22h16"/><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/></>} />,
            Mic: (props) => <Icon {...props} path={<><path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="22"/><line x1="8" y1="22" x2="16" y2="22"/></>} />,
            Rocket: (props) => <Icon {...props} path={<><path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"/><path d="m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"/><path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"/><path d="M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"/></>} />,
            Target: (props) => <Icon {...props} path={<><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></>} />,
            RefreshCw: (props) => <Icon {...props} path={<><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M8 16H3v5"/></>} />,
            Handshake: (props) => <Icon {...props} path={<><path d="m11 17 2 2a1 1 0 1 0 3-3"/><path d="m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4"/><path d="m21 3 1 11h-2"/><path d="M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3"/><path d="M3 4h8"/></>} />,
            Lightbulb: (props) => <Icon {...props} path={<><path d="M15 14c.2-1 .7-1.7 1.5-2.5 1-1 1.5-2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5"/><path d="M9 18h6"/><path d="M10 22h4"/></>} />,
            Server: (props) => <Icon {...props} path={<><rect width="20" height="8" x="2" y="2" rx="2" ry="2"/><rect width="20" height="8" x="2" y="14" rx="2" ry="2"/><line x1="6" x2="6.01" y1="6" y2="6"/><line x1="6" x2="6.01" y1="18" y2="18"/></>} />,
            ShieldCheck: (props) => <Icon {...props} path={<><path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"/><path d="m9 12 2 2 4-4"/></>} />,
            Cpu: (props) => <Icon {...props} path={<><rect width="16" height="16" x="4" y="4" rx="2"/><rect width="6" height="6" x="9" y="9" rx="1"/><path d="M15 2v2"/><path d="M15 20v2"/><path d="M2 15h2"/><path d="M2 9h2"/><path d="M20 15h2"/><path d="M20 9h2"/><path d="M9 2v2"/><path d="M9 20v2"/></>} />,
            Edit: (props) => <Icon {...props} path={<><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></>} />,
            ArrowLeft: (props) => <Icon {...props} path={<><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></>} />,
            MessageSquare: (props) => <Icon {...props} path={<><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></>} />,
            Refresh: (props) => <Icon {...props} path={<><path d="M21 2v6h-6"/><path d="M3 12a9 9 0 0 1 15-6.7L21 8"/><path d="M3 22v-6h6"/><path d="M21 12a9 9 0 0 1-15 6.7L3 16"/></>} />
        };

        // --- Board Component ---
        const BoardSection = ({ t, lang }) => {
            const [posts, setPosts] = useState([]);
            const [view, setView] = useState('list'); // 'list', 'write', 'detail'
            const [currentPost, setCurrentPost] = useState(null);
            const [formData, setFormData] = useState({ title: '', author: '', content: '' });
            const [user, setUser] = useState(null);
            const [loading, setLoading] = useState(true);
            const [errorMsg, setErrorMsg] = useState(null);

            // Fetch Data Function
            const fetchPosts = () => {
                if (!window.firebaseModules) return;
                const { db, collection, onSnapshot } = window.firebaseModules;
                
                setLoading(true);
                setErrorMsg(null);

                const postsRef = collection(db, 'board_posts'); 
                
                // Using onSnapshot for real-time updates
                const unsubscribe = onSnapshot(postsRef, (snapshot) => {
                    const loadedPosts = snapshot.docs.map(doc => {
                        const data = doc.data();
                        return {
                            id: doc.id,
                            ...data,
                            // Ensure createdAt is sortable even if missing or weird format
                            createdAt: data.createdAt ? data.createdAt : 0
                        };
                    });
                    
                    // Sort safely (handle non-numbers gracefully)
                    loadedPosts.sort((a, b) => {
                        const timeA = Number(a.createdAt) || 0;
                        const timeB = Number(b.createdAt) || 0;
                        return timeB - timeA;
                    });
                    
                    setPosts(loadedPosts);
                    setLoading(false);
                }, (error) => {
                    console.error("Error fetching posts:", error);
                    setLoading(false);
                    if (error.code === 'permission-denied') {
                        setErrorMsg("Permission Denied: Cannot read posts. Please check Firebase Rules.");
                    } else {
                        setErrorMsg(`Error loading posts: ${error.message}`);
                    }
                });
                
                return unsubscribe;
            };

            // Initialize Firebase and Auth
            useEffect(() => {
                let unsubscribeSnapshot = null;
                let retryCount = 0;

                const initFirebase = async () => {
                    // Safety check: Wait for firebase modules to load
                    if (!window.firebaseModules) {
                        if (retryCount < 10) {
                            retryCount++;
                            setTimeout(initFirebase, 500); // Wait 0.5s and try again
                        } else {
                            setErrorMsg("Failed to load Firebase libraries. Please refresh.");
                            setLoading(false);
                        }
                        return;
                    }

                    const { auth, signInAnonymously, onAuthStateChanged } = window.firebaseModules;
                    
                    try {
                        // 1. Listen for auth changes first
                        onAuthStateChanged(auth, (u) => {
                            setUser(u);
                            if (u) {
                                // User is signed in, fetch posts
                                if (unsubscribeSnapshot) {
                                    // Already listening, do nothing or re-subscribe if needed
                                    // Usually onAuthStateChanged fires once initially
                                } else {
                                    unsubscribeSnapshot = fetchPosts();
                                }
                            } else {
                                // User is signed out, try to sign in
                                signInAnonymously(auth).catch(e => {
                                    console.error("Auth Error:", e);
                                    setErrorMsg("Authentication failed. Cannot load board.");
                                    setLoading(false);
                                });
                            }
                        });

                    } catch (error) {
                        console.error("Firebase Init Error:", error);
                        setLoading(false);
                        setErrorMsg("Failed to initialize Firebase.");
                    }
                };
                
                initFirebase();

                // Cleanup
                return () => {
                    if (unsubscribeSnapshot && typeof unsubscribeSnapshot === 'function') {
                        unsubscribeSnapshot();
                    }
                };
            }, []);

            const handleInputChange = (e) => {
                const { name, value } = e.target;
                setFormData(prev => ({ ...prev, [name]: value }));
            };

            const handleSubmit = async (e) => {
                e.preventDefault();
                if (!formData.title || !formData.content) return;
                
                try {
                    const { db, collection, addDoc } = window.firebaseModules;
                    const postsRef = collection(db, 'board_posts');
                    
                    await addDoc(postsRef, {
                        title: formData.title,
                        author: formData.author || 'Anonymous',
                        content: formData.content,
                        createdAt: Date.now(),
                        views: 0
                    });
                    
                    setFormData({ title: '', author: '', content: '' });
                    setView('list');
                } catch (error) {
                    console.error("Error adding post:", error);
                    if (error.code === 'permission-denied') {
                        alert("Error: Permission Denied. Check Firebase Rules.");
                    } else {
                        alert("Failed to post: " + error.message);
                    }
                }
            };

            const formatDate = (timestamp) => {
                if (!timestamp) return '-';
                const date = new Date(timestamp);
                return isNaN(date.getTime()) ? '-' : date.toLocaleDateString();
            };

            return (
                <section id="board" className="py-24 bg-slate-50 relative border-t border-slate-200">
                    <div className="container mx-auto px-6 relative z-10">
                        <div className="text-center mb-12">
                            <span className="text-blue-600 font-bold tracking-widest uppercase mb-2 block">Community</span>
                            <h2 className="text-3xl md:text-4xl font-bold text-slate-900">News & Notices</h2>
                        </div>

                        <div className="max-w-5xl mx-auto bg-white rounded-2xl shadow-xl overflow-hidden border border-slate-100 min-h-[600px]">
                            {/* Header */}
                            <div className="bg-slate-900 p-6 flex justify-between items-center">
                                <h3 className="text-white font-bold text-xl flex items-center gap-2">
                                    <Icons.MessageSquare className="text-blue-400" />
                                    STARIS Board
                                </h3>
                                <div className="flex gap-2">
                                    {view === 'list' && (
                                        <button 
                                            onClick={() => {
                                                // Manual refresh trigger
                                                if (window.firebaseModules) {
                                                    const { auth } = window.firebaseModules;
                                                    if (!auth.currentUser) window.firebaseModules.signInAnonymously(auth);
                                                    fetchPosts();
                                                }
                                            }}
                                            className="bg-slate-700 hover:bg-slate-600 text-white p-2 rounded-lg transition-colors"
                                            title="Refresh List"
                                        >
                                            <Icons.Refresh size={20} />
                                        </button>
                                    )}
                                    {view === 'list' && (
                                        <button 
                                            onClick={() => setView('write')}
                                            className="bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg text-sm font-bold transition-colors flex items-center gap-2"
                                        >
                                            <Icons.Edit size={16} /> Write
                                        </button>
                                    )}
                                </div>
                                {(view === 'write' || view === 'detail') && (
                                    <button 
                                        onClick={() => setView('list')}
                                        className="bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm font-bold transition-colors flex items-center gap-2"
                                    >
                                        <Icons.ArrowLeft size={16} /> Back
                                    </button>
                                )}
                            </div>

                            {/* Content Area */}
                            <div className="p-6 md:p-10">
                                {loading ? (
                                    <div className="flex flex-col justify-center items-center h-64">
                                        <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"></div>
                                        <p className="text-slate-500">Loading posts...</p>
                                    </div>
                                ) : errorMsg ? (
                                    <div className="flex flex-col justify-center items-center h-64 text-center">
                                        <div className="bg-red-50 text-red-600 p-4 rounded-xl border border-red-100 max-w-lg">
                                            <p className="font-bold mb-2">Error Loading Board</p>
                                            <p>{errorMsg}</p>
                                            <p className="text-xs mt-2 text-red-400">Please check Firebase Rules or your internet connection.</p>
                                        </div>
                                    </div>
                                ) : (
                                    <>
                                        {view === 'list' && (
                                            <div className="overflow-x-auto">
                                                <table className="w-full text-left border-collapse">
                                                    <thead>
                                                        <tr className="border-b border-slate-200 text-slate-500 text-sm uppercase tracking-wider">
                                                            <th className="py-4 px-4 font-medium w-20 text-center">No.</th>
                                                            <th className="py-4 px-4 font-medium">Title</th>
                                                            <th className="py-4 px-4 font-medium w-32 text-center">Author</th>
                                                            <th className="py-4 px-4 font-medium w-32 text-center">Date</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody className="text-slate-700">
                                                        {posts.length === 0 ? (
                                                            <tr>
                                                                <td colSpan="4" className="py-12 text-center text-slate-400">
                                                                    No posts found in 'board_posts'.<br/>
                                                                    <span className="text-xs text-slate-300 mt-2 block">
                                                                        Write the first post! (Status: Connected)
                                                                    </span>
                                                                </td>
                                                            </tr>
                                                        ) : (
                                                            posts.map((post, idx) => (
                                                                <tr 
                                                                    key={post.id} 
                                                                    className="border-b border-slate-100 hover:bg-slate-50 transition-colors cursor-pointer group"
                                                                    onClick={() => { setCurrentPost(post); setView('detail'); }}
                                                                >
                                                                    <td className="py-4 px-4 text-center text-slate-400 text-sm">{posts.length - idx}</td>
                                                                    <td className="py-4 px-4 font-medium group-hover:text-blue-600 transition-colors">
                                                                        {post.title}
                                                                    </td>
                                                                    <td className="py-4 px-4 text-center text-sm">{post.author}</td>
                                                                    <td className="py-4 px-4 text-center text-slate-400 text-sm">{formatDate(post.createdAt)}</td>
                                                                </tr>
                                                            ))
                                                        )}
                                                    </tbody>
                                                </table>
                                            </div>
                                        )}

                                        {view === 'write' && (
                                            <form onSubmit={handleSubmit} className="max-w-2xl mx-auto space-y-6 animate-fade-in-up">
                                                <div>
                                                    <label className="block text-sm font-bold text-slate-700 mb-2">Title</label>
                                                    <input 
                                                        type="text" 
                                                        name="title" 
                                                        value={formData.title} 
                                                        onChange={handleInputChange}
                                                        className="w-full bg-slate-50 border border-slate-200 rounded-lg px-4 py-3 focus:outline-none focus:border-blue-500 transition-colors"
                                                        placeholder="Enter post title"
                                                        required
                                                    />
                                                </div>
                                                <div className="grid grid-cols-2 gap-6">
                                                    <div>
                                                        <label className="block text-sm font-bold text-slate-700 mb-2">Author</label>
                                                        <input 
                                                            type="text" 
                                                            name="author" 
                                                            value={formData.author} 
                                                            onChange={handleInputChange}
                                                            className="w-full bg-slate-50 border border-slate-200 rounded-lg px-4 py-3 focus:outline-none focus:border-blue-500 transition-colors"
                                                            placeholder="Anonymous"
                                                        />
                                                    </div>
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-bold text-slate-700 mb-2">Content</label>
                                                    <textarea 
                                                        name="content" 
                                                        value={formData.content} 
                                                        onChange={handleInputChange}
                                                        className="w-full bg-slate-50 border border-slate-200 rounded-lg px-4 py-3 h-64 focus:outline-none focus:border-blue-500 transition-colors resize-none"
                                                        placeholder="Write your message here..."
                                                        required
                                                    ></textarea>
                                                </div>
                                                <div className="flex justify-end gap-4">
                                                    <button 
                                                        type="button" 
                                                        onClick={() => setView('list')}
                                                        className="px-6 py-3 bg-slate-200 hover:bg-slate-300 text-slate-700 rounded-lg font-bold transition-colors"
                                                    >
                                                        Cancel
                                                    </button>
                                                    <button 
                                                        type="submit" 
                                                        className="px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-lg font-bold transition-colors shadow-lg shadow-blue-500/30"
                                                    >
                                                        Submit Post
                                                    </button>
                                                </div>
                                            </form>
                                        )}

                                        {view === 'detail' && currentPost && (
                                            <div className="animate-fade-in-up">
                                                <div className="border-b border-slate-200 pb-6 mb-6">
                                                    <h2 className="text-2xl md:text-3xl font-bold text-slate-900 mb-4">{currentPost.title}</h2>
                                                    <div className="flex items-center gap-4 text-sm text-slate-500">
                                                        <span className="flex items-center gap-1"><span className="font-bold text-slate-700">By</span> {currentPost.author}</span>
                                                        <span className="w-1 h-1 bg-slate-300 rounded-full"></span>
                                                        <span>{formatDate(currentPost.createdAt)}</span>
                                                    </div>
                                                </div>
                                                <div className="prose prose-slate max-w-none text-slate-700 leading-relaxed whitespace-pre-wrap min-h-[300px]">
                                                    {currentPost.content}
                                                </div>
                                                <div className="mt-10 pt-6 border-t border-slate-200 flex justify-between">
                                                    <button 
                                                        onClick={() => setView('list')}
                                                        className="text-slate-500 hover:text-blue-600 font-bold flex items-center gap-2 transition-colors"
                                                    >
                                                        <Icons.ArrowLeft size={16} /> Back to List
                                                    </button>
                                                </div>
                                            </div>
                                        )}
                                    </>
                                )}
                            </div>
                        </div>
                    </div>
                </section>
            );
        };
